<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Aaron's Rocky 100K — Crew Tracker</title>
    <link rel="icon" type="image/png" sizes="32x32" href="/images/AppIcon@32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/images/AppIcon@16.png" />
    <link rel="apple-touch-icon" href="/images/AppIcon@180.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/images/AppIcon@180.png" />
    <link rel="apple-touch-icon" sizes="167x167" href="/images/AppIcon@167.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="/images/AppIcon@152.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="/images/AppIcon@120.png" />
    <link rel="stylesheet" href="/src/main.css" />
    <link rel="stylesheet" href="/src/course.css" />
  </head>
  <body class="course-body">
    <div id="app" class="course-app">
      <!-- Bottom layer: full-screen map -->
      <div class="map-wrapper">
        <div id="map-container" class="map-container" aria-label="Course map"></div>
      </div>

      <!-- Top layer: iOS-style sheet with all crew tracker content -->
      <div class="course-sheet" id="course-sheet" aria-label="Crew tracker">
        <div class="course-sheet-drag-area" id="course-sheet-drag" aria-label="Drag to expand or collapse sheet">
          <div class="course-sheet-handle" aria-hidden="true"></div>
        </div>
        <div class="course-sheet-inner">
          <header class="header">
            <button type="button" class="header-refresh-btn" id="header-refresh-btn" aria-label="Refresh data">
              <svg class="header-refresh-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/></svg>
            </button>
            <div class="header-title-wrap">
              <div class="header-title-row">
                <h1>Aaron's Rocky 100k</h1>
                <span class="demo-mode-label" id="demo-mode-label" aria-hidden="true"></span>
              </div>
              <p class="subtitle">Saturday, February 7, 2026<br>Starts: 7am CDT<br>Huntsville State Park, Texas</p>
            </div>
          </header>

          <section class="race-progress" id="race-progress" aria-label="Race progress"></section>

          <section class="finished-splits" id="finished-splits" aria-label="Official splits"></section>

          <section id="hows-he-doing" class="hows-he-doing" aria-label="How is he doing"></section>

          <section class="hero" aria-label="Live status">
            <p class="live-fallback-msg" id="live-fallback-msg" aria-live="polite"></p>
            <div class="progress-line" id="progress-line" aria-label="Progress between aid stations"></div>
            <div class="eta-section" id="eta-section"></div>
            <div class="last-split" id="last-split"></div>
          </section>

          <main class="crew-guide">
            <section class="nutrition-guide" id="nutrition-guide" aria-label="Nutrition and crew reference">
              <h2 class="nutrition-guide-title">Nutrition & crew reference</h2>

              <div class="nutrition-mindset">
                <p><strong>Be positive but efficient.</strong> Hand Aaron what he needs — don't ask "what do you want?" If he looks rough, that's normal for a 100K; if he's moving forward, he's fine.</p>
                <p>Chair at stops: <strong>1–2 min max</strong> — don't let him sit too long. If he's late: don't panic. ETAs above update with current pace; plan times are your outer window.</p>
                <p class="nutrition-mindset-strategy">First 100K — goal is to finish. Slower than expected early = saving energy. Trust the plan.</p>
                <p class="nutrition-weather">Weather: ~45°F start → peak ~75°F (2–3 PM) → ~55°F by finish.</p>
              </div>

              <div class="nutrition-hourly">
                <h3>Hourly targets</h3>
                <div class="nutrition-hourly-grid">
                  <div class="nutrition-hourly-item">
                    <span class="nutrition-hourly-value">200–250 cal/hr</span>
                    <span class="nutrition-hourly-label">Calories — eat every 30 min</span>
                  </div>
                  <div class="nutrition-hourly-item">
                    <span class="nutrition-hourly-value">500–750 ml/hr</span>
                    <span class="nutrition-hourly-label">Fluid — sip constantly</span>
                  </div>
                  <div class="nutrition-hourly-item">
                    <span class="nutrition-hourly-value">500–1000 mg/hr</span>
                    <span class="nutrition-hourly-label">Sodium — more when hot</span>
                  </div>
                </div>
              </div>

              <div class="nutrition-stop-actions">
                <h3>What to hand Aaron at each stop</h3>
                <div class="nutrition-stop-list">
                  <div class="nutrition-stop-card">
                    <span class="nutrition-stop-name">Prologue</span>
                    <span class="nutrition-stop-time">~7:26 AM</span>
                    <p class="nutrition-stop-actions-text">Wave only — nothing needed</p>
                  </div>
                  <div class="nutrition-stop-card">
                    <span class="nutrition-stop-name">Lap 1</span>
                    <span class="nutrition-stop-time">~11:28 AM</span>
                    <p class="nutrition-stop-actions-text">Fresh socks ready | Refill Tailwind | 1–2 gels or stroopwafels for pocket</p>
                  </div>
                  <div class="nutrition-stop-card">
                    <span class="nutrition-stop-name">Lap 2</span>
                    <span class="nutrition-stop-time">~3:45 PM</span>
                    <p class="nutrition-stop-actions-text">KEY STOP: Fresh socks | Ice bandana | Sunscreen | Refill Tailwind | Pickle juice | Salt tabs | Real food (PB&J, banana) | Headlamp if not already on him</p>
                  </div>
                  <div class="nutrition-stop-card">
                    <span class="nutrition-stop-name">Nature Ctr</span>
                    <span class="nutrition-stop-time">~6:18 PM</span>
                    <p class="nutrition-stop-actions-text">Zach joins to pace | Quick check: Does he need food, salt, or pickle juice?</p>
                  </div>
                  <div class="nutrition-stop-card">
                    <span class="nutrition-stop-name">Finish</span>
                    <span class="nutrition-stop-time">~9:22 PM</span>
                    <p class="nutrition-stop-actions-text">Celebrate! Warm clothes, chair (1–2 min max), and food ready.</p>
                  </div>
                </div>
              </div>

              <div class="nutrition-sodium">
                <h3>Sodium strategy by phase</h3>
                <ul class="nutrition-sodium-list">
                  <li><strong>Prologue + Lap 1:</strong> Tailwind only — built-in sodium is enough</li>
                  <li><strong>Lap 2:</strong> Add salt tab OR pickle juice sips at each aid station</li>
                  <li><strong>Lap 3 (early):</strong> Salt tab at EVERY aid + pickle juice + broth if it sounds good</li>
                  <li><strong>Lap 3 (late):</strong> By feel — temps dropping, cramp risk lower</li>
                </ul>
              </div>

              <div class="nutrition-supplies">
                <h3>Supplies: Aaron carries vs crew holds</h3>
                <div class="nutrition-supplies-grid">
                  <div class="nutrition-supplies-col">
                    <h4>Aaron carries</h4>
                    <ul>
                      <li>2–3 Honey Stinger gels</li>
                      <li>1–2 Stroopwafels</li>
                      <li>1 Uncrustable</li>
                      <li>2–3 Pickle Juice bottles</li>
                      <li>Salt tabs in pocket</li>
                      <li>1–1.5L fluid capacity</li>
                    </ul>
                  </div>
                  <div class="nutrition-supplies-col">
                    <h4>Crew has ready</h4>
                    <ul>
                      <li>Backup gels (4–6)</li>
                      <li>Backup stroopwafels (2–3)</li>
                      <li>Backup Uncrustables (2–3)</li>
                      <li>Extra Pickle Juice (2–3)</li>
                      <li>Extra salt tabs</li>
                      <li>Tailwind packets for mixing</li>
                      <li>Clif bars (variety for Lap 3)</li>
                      <li>Real food: PB&J, banana</li>
                      <li>Caffeine pills</li>
                    </ul>
                  </div>
                </div>
              </div>

              <div class="nutrition-aid-notes">
                <h3>Aid station food notes</h3>
                <ul>
                  <li><span class="nutrition-jug-blue">BLUE</span> jugs = Tailwind (~200 cal + sodium per 24 oz)</li>
                  <li><span class="nutrition-jug-orange">ORANGE</span> jugs = Water</li>
                  <li>Salt tabs usually available — Aaron can grab extras</li>
                  <li>Broth is good for sodium + warmth in Lap 3</li>
                  <li>Aaron is avoiding: Quesadillas, fatty/unfamiliar foods (unless desperate)</li>
                </ul>
              </div>

              <div class="nutrition-cramp">
                <h3>Cramp protocol</h3>
                <p>If Aaron mentions cramping or you see him limping:</p>
                <ol>
                  <li>Have him WALK (not push through)</li>
                  <li>Hand him salt tab + Pickle Juice</li>
                  <li>Let him stretch before continuing</li>
                </ol>
                <p class="nutrition-cramp-note">Stopping early costs less time than a full cramp</p>
              </div>

              <div class="nutrition-warnings">
                <h3>Warning signs to watch for</h3>
                <div class="nutrition-warnings-list">
                  <div class="nutrition-warning-item">
                    <div class="nutrition-warning-content">
                      <span class="nutrition-warning-sign">Peeing constantly + crystal clear</span>
                      <span class="nutrition-warning-action">Ease off fluids slightly, add sodium</span>
                    </div>
                    <span class="nutrition-warning-severity nutrition-severity-mild" aria-label="Mild"><span class="nutrition-severity-dot"></span>Mild</span>
                  </div>
                  <div class="nutrition-warning-item">
                    <div class="nutrition-warning-content">
                      <span class="nutrition-warning-sign">Not peeing / dark urine</span>
                      <span class="nutrition-warning-action">Push fluids — drink more Tailwind</span>
                    </div>
                    <span class="nutrition-warning-severity nutrition-severity-low" aria-label="Low"><span class="nutrition-severity-dot"></span>Low</span>
                  </div>
                  <div class="nutrition-warning-item">
                    <div class="nutrition-warning-content">
                      <span class="nutrition-warning-sign">Refusing to eat</span>
                      <span class="nutrition-warning-action">Try different foods — Clif bar, banana, broth</span>
                    </div>
                    <span class="nutrition-warning-severity nutrition-severity-moderate" aria-label="Moderate"><span class="nutrition-severity-dot"></span>Moderate</span>
                  </div>
                  <div class="nutrition-warning-item">
                    <div class="nutrition-warning-content">
                      <span class="nutrition-warning-sign">Shivering when it's not cold</span>
                      <span class="nutrition-warning-action">Get warm layers on, hot broth, keep moving</span>
                    </div>
                    <span class="nutrition-warning-severity nutrition-severity-high" aria-label="High"><span class="nutrition-severity-dot"></span>High</span>
                  </div>
                  <div class="nutrition-warning-item">
                    <div class="nutrition-warning-content">
                      <span class="nutrition-warning-sign">Confused / slurred speech</span>
                      <span class="nutrition-warning-action">Stop, sit, salt + food, assess carefully</span>
                    </div>
                    <span class="nutrition-warning-severity nutrition-severity-critical" aria-label="Critical"><span class="nutrition-severity-dot"></span>Critical</span>
                  </div>
                </div>
              </div>
            </section>
          </main>

          <footer class="footer">
            <p>Go Aaron!</p>
            <button type="button" id="replay-race-btn" class="replay-race-btn">Replay Race Performance</button>
          </footer>
        </div>
      </div>
    </div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
