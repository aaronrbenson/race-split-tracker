<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Course Map — Rocky 100K</title>
    <link rel="icon" type="image/png" sizes="32x32" href="/images/AppIcon@32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/images/AppIcon@16.png" />
    <link rel="apple-touch-icon" href="/images/AppIcon@180.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/images/AppIcon@180.png" />
    <link rel="apple-touch-icon" sizes="167x167" href="/images/AppIcon@167.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="/images/AppIcon@152.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="/images/AppIcon@120.png" />
    <link rel="stylesheet" href="/src/main.css" />
    <link rel="stylesheet" href="/src/course.css" />
  </head>
  <body class="course-body">
    <div id="app" class="course-app">
      <!-- Bottom layer: full-screen map -->
      <div class="map-wrapper">
        <div id="map-container" class="map-container" aria-label="Course map"></div>
      </div>

      <!-- Top layer: iOS-style sheet -->
      <div class="course-sheet" id="course-sheet" aria-label="Course info and controls">
        <div class="course-sheet-drag-area" id="course-sheet-drag" aria-label="Drag to expand or collapse sheet">
          <div class="course-sheet-handle" aria-hidden="true"></div>
        </div>
        <div class="course-sheet-inner">
          <header class="course-sheet-header">
            <h1 class="course-sheet-title">Course map</h1>
            <p class="course-sheet-subtitle">Rocky 100K · Runner position by distance</p>
          </header>

          <section class="course-controls" aria-label="Map controls">
            <div class="course-control-row">
              <label for="gpx-file">GPX file</label>
              <input type="file" id="gpx-file" accept=".gpx" />
              <button type="button" id="load-default-gpx">Load default course</button>
            </div>
            <div class="course-control-row">
              <label for="race-start-km">Track starts at race km (prologue omitted = 3.5)</label>
              <input type="number" id="race-start-km" min="0" max="10" step="0.1" value="3.5" />
            </div>
            <div class="course-control-row">
              <label for="runner-km">Runner distance (km)</label>
              <input type="number" id="runner-km" min="0" max="100.12" step="0.5" value="0" />
              <input type="range" id="runner-km-range" min="0" max="100.12" step="0.5" value="0" aria-label="Runner distance km" />
            </div>
            <p class="course-status" id="course-status" aria-live="polite">Load a GPX to show the course.</p>
          </section>

          <footer class="course-sheet-footer">
            <a href="/">Back to crew tracker</a>
          </footer>
        </div>
      </div>
    </div>
    <script type="module" src="/src/coursePage.js"></script>
  </body>
</html>
